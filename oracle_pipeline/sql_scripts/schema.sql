CREATE TABLE global.Clientes (
	idCliente int GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	Nombre VARCHAR2(20) NOT NULL,
	Apellido VARCHAR2(20) NOT NULL,
	Correo VARCHAR2(20) NOT NULL UNIQUE,
	constraint CLIENTES_PK PRIMARY KEY (idCliente));

CREATE TABLE global.Lugares (
	idLugar int GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	Nombre VARCHAR2(20) NOT NULL,
	Direccion VARCHAR2(300) NOT NULL,
	constraint LUGARES_PK PRIMARY KEY (idLugar));

CREATE TABLE global.Cajeros (
	idCajero int GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	Nombre VARCHAR2(20) NOT NULL,
	Banco VARCHAR2(20) NOT NULL,
    Lugar INT NOT NULL,
	constraint CAJEROS_PK PRIMARY KEY (idCajero));

CREATE TABLE global.Comprobantes (
	idComprobante int GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	Monto FLOAT NOT NULL,
	Cajero INT NOT NULL,
    Cliente INT NOT NULL,
    Fecha DATE NOT NULL,
    Producto INT NOT NULL,
	constraint COMPROBANTES_PK PRIMARY KEY (idComprobante));

CREATE TABLE global.Productos (
	idProducto int GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	Nombre VARCHAR2(20) NOT NULL,
	Descripcion VARCHAR2(150) NOT NULL,
	constraint PRODUCTOS_PK PRIMARY KEY (idProducto));

ALTER TABLE Cajeros ADD CONSTRAINT Lugar_fk0 FOREIGN KEY (Lugar) REFERENCES Lugares(idLugar);
ALTER TABLE Comprobantes ADD CONSTRAINT Cajero_fk0 FOREIGN KEY (Cajero) REFERENCES Cajeros(idCajero);
ALTER TABLE Comprobantes ADD CONSTRAINT Cliente_fk0 FOREIGN KEY (Cliente) REFERENCES Clientes(idCliente);
ALTER TABLE Comprobantes ADD CONSTRAINT Producto_fk0 FOREIGN KEY (Producto) REFERENCES Productos(idProducto);

-- DROP TABLE global.Clientes CASCADE CONSTRAINTS;
-- DROP TABLE global.Lugares CASCADE CONSTRAINTS;
-- DROP TABLE global.Cajeros CASCADE CONSTRAINTS;
-- DROP TABLE global.Productos CASCADE CONSTRAINTS;
-- DROP TABLE global.Comprobantes CASCADE CONSTRAINTS;